<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>ESP32 BLE</title>
<meta name="robots" content="noindex,nofollow">
<style>
body{background:#111;color:#eee;font-family:Arial;text-align:center}
button{padding:10px 18px;margin:5px}
</style>
</head>

<body>
<h2>ESP32 BLE Manager</h2>

<button onclick="connectBLE()">BLE Bağlan</button>
<p id="stat">Durum: -</p>

<script>
let ch;

const SERVICE = '00001234-0000-1000-8000-00805f9b34fb';
const CHAR    = '0000abcd-0000-1000-8000-00805f9b34fb';

async function connectBLE(){
  try{
    const device = await navigator.bluetooth.requestDevice({
      acceptAllDevices:true,
      optionalServices:[SERVICE]
    });

    const server = await device.gatt.connect();
    const service = await server.getPrimaryService(SERVICE);
    ch = await service.getCharacteristic(CHAR);

    document.getElementById("stat").innerText =
      "Durum: BLE bağlı → " + device.name;

  }catch(e){
    alert("BLE bulunamadı / bağlanamadı");
    console.error(e);
  }
}
</script>
</body>
</html>


