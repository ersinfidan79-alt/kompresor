<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>BLE TEST</title>
</head>

<body>
<button onclick="go()">BLE Bağlan</button>
<p id="s">-</p>

<script>
let ch;

const SERVICE = "00001234-0000-1000-8000-00805f9b34fb";
const CHAR    = "0000abcd-0000-1000-8000-00805f9b34fb";

async function go(){
  try{
    const device = await navigator.bluetooth.requestDevice({
      acceptAllDevices:true,
      optionalServices:[SERVICE]
    });

    const server = await device.gatt.connect();
    const service = await server.getPrimaryService(SERVICE);
    ch = await service.getCharacteristic(CHAR);

    document.getElementById("s").innerText =
      "BAĞLANDI → " + device.name;

  }catch(e){
    document.getElementById("s").innerText =
      "HATA: " + e;
    console.log(e);
  }
}
</script>
</body>
</html>



