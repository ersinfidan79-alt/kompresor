<!DOCTYPE html>
<html lang="tr">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kompresor Kontrol</title>

<style>
body {
  background:#0e0e0e;
  color:white;
  text-align:center;
  font-family:Arial;
}

.btn {
  width:80%;
  max-width:300px;
  padding:20px;
  margin:15px auto;
  font-size:22px;
  font-weight:bold;
  border:none;
  border-radius:14px;
  color:white;
  transition:0.15s;
}

.btn-start { background:#00c853; }
.btn-stop  { background:#d50000; }

.disabled {
  opacity:0.35;
  pointer-events:none;
  filter:grayscale(100%);
}

.btn:active {
  transform:scale(0.92);
}

@keyframes vibrate {
  0% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  50% { transform: translateX(3px); }
  75% { transform: translateX(-3px); }
  100% { transform: translateX(0); }
}

.vibrate {
  animation:vibrate 0.15s linear;
}
</style>
</head>

<body>

<h2>KompresÃ¶r Kontrol</h2>
<h2>( Made in Ersin )</h2>

<button id="btnStart" class="btn btn-start disabled">ðŸŸ¢ START</button>
<button id="btnStop"  class="btn btn-stop disabled">ðŸ”´ STOP</button>

<script>
const btnStart = document.getElementById("btnStart");
const btnStop  = document.getElementById("btnStop");

let online = true;  // Apps Script her zaman Ã§alÄ±ÅŸÄ±yor, basit mantÄ±kla true
let startState = 0;
let stopState  = 0;

function updateButtons() {
  if (!online) {
    btnStart.classList.add("disabled");
    btnStop.classList.add("disabled");
    return;
  }

  if (startState === 1 || stopState === 1) {
    btnStart.classList.add("disabled");
    btnStop.classList.add("disabled");
  } else {
    btnStart.classList.remove("disabled");
    btnStop.classList.remove("disabled");
  }
}

function vibrateAndAnimate(btn) {
  if (navigator.vibrate) navigator.vibrate(50);
  btn.classList.add("vibrate");
  setTimeout(() => btn.classList.remove("vibrate"), 150);
}

const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbw226hlBnXj5cdVIHfmtabIEaM4Yre4YjAU8Tm_Ak5_6PhiLVIw2rWzPCEBatl-uEA/exec"; // Apps Script URL'n

btnStart.onclick = () => {
  fetch(`${SCRIPT_URL}?c=START`).then(r => r.text());
  startState = 1;
  updateButtons();
  vibrateAndAnimate(btnStart);
};

btnStop.onclick  = () => {
  fetch(`${SCRIPT_URL}?c=STOP`).then(r => r.text());
  stopState = 1;
  updateButtons();
  vibrateAndAnimate(btnStop);
};

// Opsiyonel: buton state reset (1 saniye sonra)
setInterval(() => {
  startState = 0;
  stopState = 0;
  updateButtons();
}, 1000);

</script>

</body>
</html>


